export type SupportedLanguage = 'en' | 'es' | 'fr' | 'de' | 'zh';

type TranslationDictionary = Record<string, string>;

const dictionaries: Record<SupportedLanguage, TranslationDictionary> = {
  en: {
    'header.title': 'Zalc.Dev AI Stock Exchange',
    'header.tagline': 'Intelligent Trading Insights at Your Fingertips',
    'header.layout.placeholder': 'Layout',
    'header.layout.classic': 'Classic',
    'header.layout.compact': 'Compact',
    'header.layout.analysis': 'Analysis',
    'header.prefs.title': 'Preferences',
    'header.prefs.language': 'Language',
    'header.prefs.currency': 'Currency',
    'header.prefs.shortcuts': 'Keyboard Shortcuts',
    'header.prefs.view': 'View (Ctrl+H)',
    'header.prefs.aiPersonality': 'AI Personality',
    'header.prefs.notifications': 'Notifications',
    'header.prefs.showChat': 'Show AI Chat',
    'header.prefs.fontSize': 'Font Size',
    'header.prefs.savedLocally': 'All settings are saved locally in your browser',

    'market.movers': 'Market Movers',
    'market.overview': 'Market Overview',
    'market.open': 'Market Open',
    'market.closed': 'Market Closed',
    'tabs.gainers': 'Top Gainers',
    'tabs.losers': 'Top Losers',
    'tabs.active': 'Most Active',
    'footer.refreshNote': 'Data refreshed every 15 minutes • Click stocks to view detailed analysis',
    'heatmap.title': 'Market Heatmap',
    'heatmap.legend.strongGains': 'Strong Gains',
    'heatmap.legend.moderateGains': 'Moderate Gains',
    'heatmap.legend.moderateLosses': 'Moderate Losses',
    'heatmap.legend.strongLosses': 'Strong Losses',
    'heatmap.legend.caption': 'Size = Market Cap, Color = Performance',
    'sector.technology': 'Technology',
    'sector.healthcare': 'Healthcare',
    'sector.finance': 'Finance',
    'sector.energy': 'Energy',
    'sector.consumer': 'Consumer',
    'sector.industrial': 'Industrial',
    'sector.breakdown': 'Sector Breakdown',

    'search.title': 'Stock Search & Analysis',
    'search.placeholder': 'Search stocks by symbol or company name...',
    'search.noResults': 'No results found',
    'search.popular': 'Popular Stocks',
    'search.clear': 'Clear',
    'search.price': 'Price',
    'search.volume': 'Volume',
    'search.trend': 'Trend',
    'search.bullish': 'Bullish',
    'search.bearish': 'Bearish',
    'search.marketCap': 'Market Cap',
    'search.chartTitle': '30-Day Price Chart',

    'news.title': 'Market News & Analysis',
    'news.live': 'Live Updates',
    'news.all': 'All News',
    'news.readMore': 'Read More',
    'news.related': 'Related:',
    'news.footerNote': 'News updates every 5 minutes • AI-powered sentiment analysis',
    'time.justNow': 'Just now',
    'time.hoursAgo': '{h}h ago',
    'time.daysAgo': '{d}d ago',
    'sentiment.positive': 'positive',
    'sentiment.negative': 'negative',
    'sentiment.neutral': 'neutral',
    'category.General': 'General',
    'category.Technology': 'Technology',
    'category.Finance': 'Finance',
    'category.World': 'World',
    'category.Games': 'Games',
    'category.Automotive': 'Automotive',
    'category.Healthcare': 'Healthcare',
    'category.Energy': 'Energy',
    'category.Retail': 'Retail',
    'category.Crypto': 'Crypto',
    'category.Commodities': 'Commodities',
    'category.Macro': 'Macro',
  },
  es: {
    'header.title': 'Zalc.Dev Bolsa de IA',
    'header.tagline': 'Ideas de inversión inteligentes al alcance de tu mano',
    'header.layout.placeholder': 'Disposición',
    'header.layout.classic': 'Clásica',
    'header.layout.compact': 'Compacta',
    'header.layout.analysis': 'Análisis',
    'header.prefs.title': 'Preferencias',
    'header.prefs.language': 'Idioma',
    'header.prefs.currency': 'Moneda',
    'header.prefs.shortcuts': 'Atajos de teclado',
    'header.prefs.view': 'Ver (Ctrl+H)',
    'header.prefs.aiPersonality': 'Personalidad de la IA',
    'header.prefs.notifications': 'Notificaciones',
    'header.prefs.showChat': 'Mostrar chat IA',
    'header.prefs.fontSize': 'Tamaño de fuente',
    'header.prefs.savedLocally': 'Todos los ajustes se guardan localmente en tu navegador',

    'market.movers': 'Movimientos del Mercado',
    'market.overview': 'Resumen del Mercado',
    'market.open': 'Mercado Abierto',
    'market.closed': 'Mercado Cerrado',
    'tabs.gainers': 'Mayores Ganancias',
    'tabs.losers': 'Mayores Pérdidas',
    'tabs.active': 'Más Activas',
    'footer.refreshNote': 'Datos actualizados cada 15 minutos • Haz clic para ver análisis detallado',
    'heatmap.title': 'Mapa de Calor del Mercado',
    'heatmap.legend.strongGains': 'Ganancias Fuertes',
    'heatmap.legend.moderateGains': 'Ganancias Moderadas',
    'heatmap.legend.moderateLosses': 'Pérdidas Moderadas',
    'heatmap.legend.strongLosses': 'Pérdidas Fuertes',
    'heatmap.legend.caption': 'Tamaño = Capitalización, Color = Rendimiento',
    'sector.technology': 'Tecnología',
    'sector.healthcare': 'Salud',
    'sector.finance': 'Finanzas',
    'sector.energy': 'Energía',
    'sector.consumer': 'Consumo',
    'sector.industrial': 'Industria',
    'sector.breakdown': 'Desglose del sector',

    'search.title': 'Búsqueda y Análisis de Acciones',
    'search.placeholder': 'Busca por símbolo o nombre de empresa...',
    'search.noResults': 'No se han encontrado resultados',
    'search.popular': 'Acciones Populares',
    'search.clear': 'Limpiar',
    'search.price': 'Precio',
    'search.volume': 'Volumen',
    'search.trend': 'Tendencia',
    'search.bullish': 'Alcista',
    'search.bearish': 'Bajista',
    'search.marketCap': 'Capitalización',
    'search.chartTitle': 'Gráfico de precios (30 días)',

    'news.title': 'Noticias y Análisis del Mercado',
    'news.live': 'Actualizaciones en vivo',
    'news.all': 'Todas las noticias',
    'news.readMore': 'Leer más',
    'news.related': 'Relacionado:',
    'news.footerNote': 'Noticias cada 5 minutos • Análisis de sentimiento por IA',
    'time.justNow': 'Ahora mismo',
    'time.hoursAgo': 'hace {h} h',
    'time.daysAgo': 'hace {d} d',
    'sentiment.positive': 'positivo',
    'sentiment.negative': 'negativo',
    'sentiment.neutral': 'neutral',
    'category.General': 'General',
    'category.Technology': 'Tecnología',
    'category.Finance': 'Finanzas',
    'category.World': 'Mundo',
    'category.Games': 'Juegos',
    'category.Automotive': 'Automoción',
    'category.Healthcare': 'Salud',
    'category.Energy': 'Energía',
    'category.Retail': 'Retail',
    'category.Crypto': 'Cripto',
    'category.Commodities': 'Materias primas',
    'category.Macro': 'Macro',
  },
  fr: {
    'header.title': 'Zalc.Dev Bourse IA',
    'header.tagline': 'Analyses d’investissement intelligentes à portée de main',
    'header.layout.placeholder': 'Disposition',
    'header.layout.classic': 'Classique',
    'header.layout.compact': 'Compacte',
    'header.layout.analysis': 'Analyse',
    'header.prefs.title': 'Préférences',
    'header.prefs.language': 'Langue',
    'header.prefs.currency': 'Devise',
    'header.prefs.shortcuts': 'Raccourcis clavier',
    'header.prefs.view': 'Voir (Ctrl+H)',
    'header.prefs.aiPersonality': 'Personnalité IA',
    'header.prefs.notifications': 'Notifications',
    'header.prefs.showChat': 'Afficher le chat IA',
    'header.prefs.fontSize': 'Taille de police',
    'header.prefs.savedLocally': 'Tous les réglages sont enregistrés localement dans votre navigateur',

    'market.movers': 'Mouvements du Marché',
    'market.overview': 'Aperçu du Marché',
    'market.open': 'Marché Ouvert',
    'market.closed': 'Marché Fermé',
    'tabs.gainers': 'Plus Fortes Hausse',
    'tabs.losers': 'Plus Fortes Baisse',
    'tabs.active': 'Les Plus Actives',
    'footer.refreshNote': 'Données actualisées toutes les 15 minutes • Cliquez pour une analyse détaillée',
    'heatmap.title': 'Carte Thermique du Marché',
    'heatmap.legend.strongGains': 'Forts Gains',
    'heatmap.legend.moderateGains': 'Gains Modérés',
    'heatmap.legend.moderateLosses': 'Pertes Modérées',
    'heatmap.legend.strongLosses': 'Fortes Pertes',
    'heatmap.legend.caption': 'Taille = Capitalisation, Couleur = Performance',
    'sector.technology': 'Technologie',
    'sector.healthcare': 'Santé',
    'sector.finance': 'Finance',
    'sector.energy': 'Énergie',
    'sector.consumer': 'Consommation',
    'sector.industrial': 'Industriel',
    'sector.breakdown': 'Répartition du secteur',

    'search.title': 'Recherche et Analyse d’Actions',
    'search.placeholder': 'Rechercher par symbole ou nom d’entreprise…',
    'search.noResults': 'Aucun résultat',
    'search.popular': 'Actions Populaires',
    'search.clear': 'Effacer',
    'search.price': 'Prix',
    'search.volume': 'Volume',
    'search.trend': 'Tendance',
    'search.bullish': 'Haussière',
    'search.bearish': 'Baissière',
    'search.marketCap': 'Capitalisation',
    'search.chartTitle': 'Graphique des prix (30 jours)',

    'news.title': 'Actualités et Analyses du Marché',
    'news.live': 'Mises à jour en direct',
    'news.all': 'Toutes les actualités',
    'news.readMore': 'Lire plus',
    'news.related': 'Lié :',
    'news.footerNote': 'Actualités toutes les 5 minutes • Analyse IA du sentiment',
    'time.justNow': 'À l’instant',
    'time.hoursAgo': 'il y a {h} h',
    'time.daysAgo': 'il y a {d} j',
    'sentiment.positive': 'positif',
    'sentiment.negative': 'négatif',
    'sentiment.neutral': 'neutre',
    'category.General': 'Général',
    'category.Technology': 'Technologie',
    'category.Finance': 'Finance',
    'category.World': 'Monde',
    'category.Games': 'Jeux',
    'category.Automotive': 'Automobile',
    'category.Healthcare': 'Santé',
    'category.Energy': 'Énergie',
    'category.Retail': 'Distribution',
    'category.Crypto': 'Crypto',
    'category.Commodities': 'Matières premières',
    'category.Macro': 'Macro',
  },
  de: {
    'header.title': 'Zalc.Dev KI-Börse',
    'header.tagline': 'Intelligente Handelsanalysen jederzeit verfügbar',
    'header.layout.placeholder': 'Layout',
    'header.layout.classic': 'Klassisch',
    'header.layout.compact': 'Kompakt',
    'header.layout.analysis': 'Analyse',
    'header.prefs.title': 'Einstellungen',
    'header.prefs.language': 'Sprache',
    'header.prefs.currency': 'Währung',
    'header.prefs.shortcuts': 'Tastenkürzel',
    'header.prefs.view': 'Anzeigen (Ctrl+H)',
    'header.prefs.aiPersonality': 'KI-Persönlichkeit',
    'header.prefs.notifications': 'Benachrichtigungen',
    'header.prefs.showChat': 'KI-Chat anzeigen',
    'header.prefs.fontSize': 'Schriftgröße',
    'header.prefs.savedLocally': 'Alle Einstellungen werden lokal in Ihrem Browser gespeichert',

    'market.movers': 'Marktbewegungen',
    'market.overview': 'Marktüberblick',
    'market.open': 'Markt geöffnet',
    'market.closed': 'Markt geschlossen',
    'tabs.gainers': 'Größte Gewinner',
    'tabs.losers': 'Größte Verlierer',
    'tabs.active': 'Am Aktivsten',
    'footer.refreshNote': 'Daten werden alle 15 Minuten aktualisiert • Klicken für detaillierte Analyse',
    'heatmap.title': 'Markt-Heatmap',
    'heatmap.legend.strongGains': 'Starke Gewinne',
    'heatmap.legend.moderateGains': 'Mäßige Gewinne',
    'heatmap.legend.moderateLosses': 'Mäßige Verluste',
    'heatmap.legend.strongLosses': 'Starke Verluste',
    'heatmap.legend.caption': 'Größe = Marktkap., Farbe = Performance',
    'sector.technology': 'Technologie',
    'sector.healthcare': 'Gesundheit',
    'sector.finance': 'Finanzen',
    'sector.energy': 'Energie',
    'sector.consumer': 'Konsum',
    'sector.industrial': 'Industrie',
    'sector.breakdown': 'Sektorenzusammenfassung',

    'search.title': 'Aktien-Suche & Analyse',
    'search.placeholder': 'Suche nach Symbol oder Firmenname…',
    'search.noResults': 'Keine Ergebnisse gefunden',
    'search.popular': 'Beliebte Aktien',
    'search.clear': 'Löschen',
    'search.price': 'Preis',
    'search.volume': 'Volumen',
    'search.trend': 'Trend',
    'search.bullish': 'Bullisch',
    'search.bearish': 'Bärisch',
    'search.marketCap': 'Marktkapitalisierung',
    'search.chartTitle': '30-Tage-Preischart',

    'news.title': 'Marktnachrichten & Analyse',
    'news.live': 'Live-Updates',
    'news.all': 'Alle Nachrichten',
    'news.readMore': 'Mehr lesen',
    'news.related': 'Verwandt:',
    'news.footerNote': 'Aktualisierung alle 5 Minuten • KI-gestützte Stimmungsanalyse',
    'time.justNow': 'Gerade eben',
    'time.hoursAgo': 'vor {h} Std.',
    'time.daysAgo': 'vor {d} Tg.',
    'sentiment.positive': 'positiv',
    'sentiment.negative': 'negativ',
    'sentiment.neutral': 'neutral',
    'category.General': 'Allgemein',
    'category.Technology': 'Technologie',
    'category.Finance': 'Finanzen',
    'category.World': 'Welt',
    'category.Games': 'Spiele',
    'category.Automotive': 'Automobil',
    'category.Healthcare': 'Gesundheit',
    'category.Energy': 'Energie',
    'category.Retail': 'Einzelhandel',
    'category.Crypto': 'Krypto',
    'category.Commodities': 'Rohstoffe',
    'category.Macro': 'Makro',
  },
  zh: {
    'header.title': 'Zalc.Dev 智能股票交易',
    'header.tagline': '智能投资洞察，触手可及',
    'header.layout.placeholder': '布局',
    'header.layout.classic': '经典',
    'header.layout.compact': '紧凑',
    'header.layout.analysis': '分析',
    'header.prefs.title': '偏好设置',
    'header.prefs.language': '语言',
    'header.prefs.currency': '货币',
    'header.prefs.shortcuts': '快捷键',
    'header.prefs.view': '查看 (Ctrl+H)',
    'header.prefs.aiPersonality': 'AI 风格',
    'header.prefs.notifications': '通知',
    'header.prefs.showChat': '显示 AI 聊天',
    'header.prefs.fontSize': '字体大小',
    'header.prefs.savedLocally': '所有设置保存在您的浏览器本地',

    'market.movers': '市场动向',
    'market.overview': '市场概览',
    'market.open': '市场开放',
    'market.closed': '市场休市',
    'tabs.gainers': '涨幅榜',
    'tabs.losers': '跌幅榜',
    'tabs.active': '活跃度',
    'footer.refreshNote': '数据每15分钟更新 • 点击查看详细分析',
    'heatmap.title': '市场热力图',
    'heatmap.legend.strongGains': '强劲上涨',
    'heatmap.legend.moderateGains': '温和上涨',
    'heatmap.legend.moderateLosses': '温和下跌',
    'heatmap.legend.strongLosses': '大幅下跌',
    'heatmap.legend.caption': '大小 = 市值，颜色 = 表现',
    'sector.technology': '科技',
    'sector.healthcare': '医疗',
    'sector.finance': '金融',
    'sector.energy': '能源',
    'sector.consumer': '消费',
    'sector.industrial': '工业',
    'sector.breakdown': '行业细分',

    'search.title': '股票搜索与分析',
    'search.placeholder': '按股票代码或公司名称搜索…',
    'search.noResults': '未找到结果',
    'search.popular': '热门股票',
    'search.clear': '清除',
    'search.price': '价格',
    'search.volume': '成交量',
    'search.trend': '趋势',
    'search.bullish': '看涨',
    'search.bearish': '看跌',
    'search.marketCap': '市值',
    'search.chartTitle': '30日价格图',

    'news.title': '市场新闻与分析',
    'news.live': '实时更新',
    'news.all': '全部新闻',
    'news.readMore': '阅读更多',
    'news.related': '相关：',
    'news.footerNote': '新闻每5分钟更新 • AI 情绪分析',
    'time.justNow': '刚刚',
    'time.hoursAgo': '{h}小时前',
    'time.daysAgo': '{d}天前',
    'sentiment.positive': '正面',
    'sentiment.negative': '负面',
    'sentiment.neutral': '中性',
    'category.General': '综合',
    'category.Technology': '科技',
    'category.Finance': '金融',
    'category.World': '世界',
    'category.Games': '游戏',
    'category.Automotive': '汽车',
    'category.Healthcare': '医疗',
    'category.Energy': '能源',
    'category.Retail': '零售',
    'category.Crypto': '加密',
    'category.Commodities': '大宗商品',
    'category.Macro': '宏观',
  },
};

export function translate(
  language: SupportedLanguage,
  key: string,
  fallback?: string
): string {
  const dict = dictionaries[language] || dictionaries.en;
  return dict[key] ?? fallback ?? key;
}

export const supportedLanguages: { code: SupportedLanguage; label: string; locale: string }[] = [
  { code: 'en', label: 'English', locale: 'en-US' },
  { code: 'es', label: 'Español', locale: 'es-ES' },
  { code: 'fr', label: 'Français', locale: 'fr-FR' },
  { code: 'de', label: 'Deutsch', locale: 'de-DE' },
  { code: 'zh', label: '中文', locale: 'zh-CN' },
];


